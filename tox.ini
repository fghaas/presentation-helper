[tox]
envlist = flake8,py{27,35,36},docs

[travis]
python =
  2.7: py27,flake8
  3.5: py35
  3.6: py36,flake8,doctest

[flake8]
#exclude = .svn,CVS,.bzr,.hg,.git,__pycache__,.tox,build,dist,*js

[coverage:run]
include = presentationhelper/*,tests/*

[testenv]
deps = -rrequirements/test.txt
commands =
    coverage run -m unittest discover tests {posargs}

[testenv:flake8]
deps =
    -rrequirements/flake8.txt
commands = flake8 {posargs}

[testenv:docs]
deps =
    -rrequirements/docs.txt
commands =
    sphinx-apidoc -e -f -o doc/source/api presentationhelper
    sphinx-build -b html doc/source doc/build {posargs}

[testenv:doctest]
deps =
    -rrequirements/docs.txt
commands =
    sphinx-apidoc -e -f -o doc/source/api presentationhelper
    sphinx-build -W -b doctest doc/source doc/build {posargs}
